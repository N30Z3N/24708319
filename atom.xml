<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://www.qiantigers.top</id>
    <title>Qiantigers</title>
    <updated>2020-06-30T18:29:14.312Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://www.qiantigers.top"/>
    <link rel="self" href="https://www.qiantigers.top/atom.xml"/>
    <subtitle>晓看天色暮看云，行也思君，坐也思君。</subtitle>
    <logo>https://www.qiantigers.top/images/avatar.png</logo>
    <icon>https://www.qiantigers.top/favicon.ico</icon>
    <rights>All rights reserved 2020, Qiantigers</rights>
    <entry>
        <title type="html"><![CDATA[牛站分享]]></title>
        <id>https://www.qiantigers.top/post/niu-zhan-fen-xiang/</id>
        <link href="https://www.qiantigers.top/post/niu-zhan-fen-xiang/">
        </link>
        <updated>2020-06-30T17:53:57.000Z</updated>
        <content type="html"><![CDATA[<h2 id="视频片头动画模板-查看链接">视频片头动画模板 <a href="https://panzoid.com/">🔗查看链接</a></h2>
<ul>
<li>
<p>简介：</p>
<p>Panzoid是一个在线工具，可以用模板输入自定义内容以创建漂亮的作品内容，从2012年有开始为创作者提供服务，可以说是一个老牌的网站了，使用Panzoid可以轻松创建炫酷的视频片头。</p>
</li>
</ul>
<h2 id="在线抠图-查看链接">在线抠图 <a href="https://www.remove.bg/">🔗查看链接</a></h2>
<ul>
<li>
<p>简介：</p>
<p>「RemoveBG」是国外的一个专业抠图去背景神器，堪称神器的抠图工具不多，主要在于抠图的速度和效果，不管多复杂的图片，都可一把图片中的物体抠下来，去除无用的背景，如果你有抠图需求，不妨试试这款工具。</p>
</li>
</ul>
<h2 id="字体下载-查看链接">字体下载 <a href="https://www.zitijia.com/">🔗查看链接</a></h2>
<ul>
<li>
<p>简介：</p>
<p>字体家是一家开发书法字体的网站平台，含有正版付费字体，免费字体下载和手写字体下载，并提供字体下载大全免费，致力于打造免费、平价字体网。</p>
</li>
</ul>
<h2 id="p站插画网站-查看链接">P站插画网站 <a href="https://www.pixiv.net/">🔗查看链接</a></h2>
<ul>
<li>
<p>简介：</p>
<p>是一个主要由日本艺术家所组成的虚拟社群，是新兴的<em>日本同人画、插画作品分享站点</em></p>
</li>
</ul>
<h2 id="smallpdf文档格式在线转换-查看链接">SmallPDF文档格式在线转换 <a href="https://smallpdf.com/">🔗查看链接</a></h2>
<ul>
<li>
<p>简介：</p>
<p>Smallpdf是一款非常实用到多功能pdf工具箱，集合了多种pdf实用工具，包括压缩、转换格式、分隔、合并、解密等多个功能模块，再也不用去安装各种工具了，一次搞定所有。但是免费用户只有试用14天。</p>
<p><strong>但是SmallPDF是有客户端的，这里带来了SmallPDF破解版，无限次数。</strong></p>
<p><strong>软件、破解补丁以及教程都在压缩包里，点击链接下载吧 →<a href="https://pan.qiantigers.top/one-share/Windows-APP/SmallPDF/SmallPDF%E7%A0%B4%E8%A7%A3%E7%89%88.zip?preview">🔗下载链接</a></strong></p>
</li>
</ul>
<h2 id="airdroid-查看链接">AirDroid <a href="http://web.airdroid.com/">🔗查看链接</a></h2>
<ul>
<li>
<p>简介：</p>
<p>AirDroid是在全球范围都备受好评的安卓设备管家，在电脑可以接收设备的通知、回复短信，电脑与设备高效互传文件，远程控制功能更能实现电脑完全控制安卓设备。</p>
</li>
</ul>
<h2 id="tophub各大网站热榜-查看链接">TopHub各大网站热榜 <a href="https://tophub.today/">🔗查看链接</a></h2>
<ul>
<li>
<p>简介：</p>
<p>今日热榜提供各站热榜聚合：微信、今日头条、百度、知乎、V2EX、微博、贴吧、豆瓣、天涯、虎扑、Github、抖音...追踪全网热点、简单高效阅读。</p>
</li>
</ul>
<h2 id="超清图片壁纸-查看链接">超清图片壁纸 <a href="https://www.pexels.com/">🔗查看链接</a></h2>
<ul>
<li>
<p>简介：</p>
<p>Pexels堪称最值得推荐的免费图库之一，它的特色是将很多大尺寸小图库及素材来源整合在同一网站上，加入搜寻，分类及标签等功能，让使用者在找照片时可以更准确 。像素提供各种尺寸的照片，甚至有高清高画质的原始图档，无须注册即可下载，更棒的是可以满足用户需求，设置尺寸后自动在线上裁切，节省下载后必须自行 编辑所耗费的时间。</p>
</li>
</ul>
<h2 id="addog-查看链接">AdDog <a href="http://www.addog.vip/">🔗查看链接</a></h2>
<ul>
<li>
<p>简介：</p>
<p>addog.vip 已收录近 <strong>500</strong> 个全球广告人最喜爱的网站，涵盖业内资讯、国潮文创、创意设计、案例库、大数据、热搜榜、免费图库、PPT模板、团队协作、求职招聘、销大学等 19 个分类。以友好、简单的方式，帮助广告人在获取资讯创意上提升效率，专注于创造。</p>
</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[影视资源的获取与观看]]></title>
        <id>https://www.qiantigers.top/post/ying-shi-zi-yuan-de-huo-qu-yu-guan-kan/</id>
        <link href="https://www.qiantigers.top/post/ying-shi-zi-yuan-de-huo-qu-yu-guan-kan/">
        </link>
        <updated>2020-06-30T16:25:15.000Z</updated>
        <content type="html"><![CDATA[<p>直接上菜～</p>
<h2 id="动漫">动漫</h2>
<h3 id="资源查找几乎可以找到大部分了且质量很高">资源查找，几乎可以找到大部分了，且质量很高</h3>
<ul>
<li>
<p>动漫花园（★★）  ☞<a href="https://dongmanhuayuan.myheartsite.com">【查看链接】</a></p>
</li>
<li>
<p>漫猫动漫  ☞<a href="http://m.comicat.org">【查看链接】</a></p>
</li>
</ul>
<h2 id="动漫-2">动漫</h2>
<h3 id="在线观看">在线观看</h3>
<ul>
<li>
<p>兜兜动漫  ☞<a href="https://www.doudoudm.site/?tiao=233&amp;tiao_s=yes">【查看链接】</a></p>
</li>
<li>
<p>5dm（d站★）  ☞<a href="www.5dm.tv">【查看链接】</a></p>
</li>
<li>
<p>cilcil（c站） ☞<a href="https://www.clicli.me">【查看链接】</a></p>
</li>
<li>
<p>樱花动漫  ☞<a href="http://m.imomoe.in/">【查看链接】</a></p>
</li>
</ul>
<h2 id="影视">影视</h2>
<h3 id="可寻找大部分电影从蓝光原盘到枪版">可寻找大部分电影，从蓝光原盘到枪版</h3>
<ul>
<li>
<p>片源网（★★） ☞<a href="http://pianyuan.la">【查看链接】</a></p>
</li>
<li>
<p>bt之家  ☞<a href="http://www.1btjia.com">【查看链接】</a></p>
</li>
<li>
<p>酷云资源网  ☞<a href="http://www.kuyunzy.com">【查看链接】</a></p>
</li>
<li>
<p>越界帮帮-酷友的网站（电影帮找★） ☞<a href="https://osoroc.com">【查看链接】</a></p>
</li>
<li>
<p>老豆瓣  ☞<a href="https://www.laodouban.com">【查看链接】</a></p>
</li>
</ul>
<h3 id="质量极高的一些影视网站">质量极高的一些影视网站</h3>
<ul>
<li>
<p>音范丝（★★★） ☞<a href="http://www.yinfans.me">【查看链接】</a></p>
</li>
<li>
<p>中国蓝光网  ☞<a href="http://www.languangdy.com">【查看链接】</a></p>
</li>
<li>
<p>蓝光网（★） ☞<a href="http://www.languang.co">【查看链接】</a></p>
</li>
<li>
<p>pdoro （★） ☞<a href="http://www.pdoro.com">【查看链接】</a></p>
</li>
</ul>
<h3 id="在线影视观看">在线影视观看</h3>
<ul>
<li>
<p>人人影视  ☞<a href="http://www.rrys2019.com">【查看链接】</a></p>
</li>
<li>
<p>56电影  ☞[【查看链接】</p>
</li>
</ul>
<h2 id="漫画">漫画</h2>
<ul>
<li>
<p>看漫  ☞<a href="https://m.kanman.com">【查看链接】</a></p>
</li>
<li>
<p>](http://www.56dy.com)</p>
</li>
</ul>
<h2 id="字幕">字幕</h2>
<ul>
<li>字幕库   ☞<a href="http://www.zimuku.la">【查看链接】</a></li>
</ul>
<h2 id="万能">万能</h2>
<ul>
<li>资源搜索网  ☞<a href="https://m.ziyuanm.com">【查看链接】</a></li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Google Drive 百宝箱(GitHub+宝塔版)]]></title>
        <id>https://www.qiantigers.top/post/google-drive-bai-bao-xiang-githubbao-ta-ban/</id>
        <link href="https://www.qiantigers.top/post/google-drive-bai-bao-xiang-githubbao-ta-ban/">
        </link>
        <updated>2020-06-28T13:14:31.000Z</updated>
        <content type="html"><![CDATA[<h1 id="google-drive-百宝箱">Google Drive 百宝箱</h1>
<blockquote>
<p>不只是最快的 google drive 拷贝工具 <a href="https://github.com/iwestlin/gd-utils/blob/master/compare.md">与其他工具的对比</a></p>
</blockquote>
<h3 id="github地址httpsgithubcomiwestlingd-utils">GitHub地址：<a href="https://github.com/iwestlin/gd-utils">https://github.com/iwestlin/gd-utils</a></h3>
<h2 id="功能简介">功能简介</h2>
<p>本工具目前支持以下功能：</p>
<ul>
<li>统计任意（您拥有相关权限的，下同，不再赘述）目录的文件信息，且支持以各种形式（html, table, json）导出。<br>
支持中断恢复，且统计过的目录（包括其所有子孙目录）信息会记录在本地数据库文件中（gdurl.sqlite） 请在本项目目录下命令行输入 <code>./count -h</code> 查看使用帮助</li>
<li>拷贝任意目录所有文件到您指定目录，同样支持中断恢复。 支持根据文件大小过滤，可输入 <code>./copy -h</code> 查看使用帮助</li>
<li>对任意目录进行去重，删除同一目录下的md5值相同的文件（只保留一个），删除空目录。 命令行输入 <code>./dedupe -h</code> 查看使用帮助</li>
<li>在 config.js 里完成相关配置后，可以将本项目部署在（可正常访问谷歌服务的）服务器上，提供 http api 文件统计接口</li>
<li>支持 telegram bot，配置完成后，上述功能均可通过 bot 进行操作</li>
</ul>
<h2 id="demo">demo</h2>
<p>https://drive.google.com/drive/folders/124pjM5LggSuwI1n40bcD5tQ13wS0M6wg</p>
<h2 id="环境配置">环境配置</h2>
<p>本工具需要安装nodejs，客户端安装请访问https://nodejs.org/zh-cn/download/，服务器安装可参考https://github.com/nodesource/distributions/blob/master/README.md#debinstall</p>
<p>建议选择v12版本的node，以防接下来安装依赖出错。</p>
<p>如果你的网络环境无法正常访问谷歌服务，需要先在命令行进行一些配置：（如果可以正常访问则跳过此节）</p>
<pre><code>http_proxy=&quot;YOUR_PROXY_URL&quot; &amp;&amp; https_proxy=$http_proxy &amp;&amp; HTTP_PROXY=$http_proxy &amp;&amp; HTTPS_PROXY=$http_proxy
</code></pre>
<p>请把<code>YOUR_PROXY_URL</code>替换成你自己的代理地址</p>
<h2 id="依赖安装">依赖安装</h2>
<ul>
<li>命令行执行<code>git clone https://github.com/iwestlin/gd-utils &amp;&amp; cd gd-utils</code> 克隆并切换到本项目文件夹下</li>
<li>执行 <code>npm i</code> 安装依赖，部分依赖可能需要代理环境才能下载，所以需要上一步的配置</li>
</ul>
<p>如果在安装过程中发生报错，请切换nodejs版本到v12再试。如果报错信息里有<code>Error: not found: make</code>之类的消息，说明你的命令行环境缺少make命令，可参考<a href="https://askubuntu.com/questions/192645/make-command-not-found">这里</a>或直接google搜索<code>Make Command Not Found</code></p>
<p>如果报错信息里有 <code>better-sqlite3</code>，先执行 <code>npm config set unsafe-perm=true</code> 然后 <code>rm -rf node_module</code> 删掉依赖目录，最后再执行下<code>npm i</code>安装试试。</p>
<p>依赖安装完成后，项目文件夹下会多出个<code>node_modules</code>目录，请不要删除它，接下来进行下一步配置。</p>
<h2 id="service-account-配置">Service Account 配置</h2>
<p>强烈建议使用service account（后称SA）, 获取方法请参见 <a href="https://gsuitems.com/index.php/archives/13/#%E6%AD%A5%E9%AA%A42%E7%94%9F%E6%88%90serviceaccounts">https://gsuitems.com/index.php/archives/13/</a> 获取到 SA 的 json 文件后，请将其拷贝到 <code>sa</code> 目录下</p>
<p>配置好 SA 以后，如果你不需要对个人盘下的文件进行操作，可跳过[个人帐号配置]这节，而且执行命令的时候，记得带上 <code>-S</code> 参数告诉程序使用SA授权进行操作。</p>
<h2 id="个人帐号配置">个人帐号配置</h2>
<ul>
<li>命令行执行 <code>rclone config file</code> 找到 rclone 的配置文件路径</li>
<li>打开这个配置文件 <code>rclone.conf</code>, 找到 <code>client_id</code>, <code>client_secret</code> 和 <code>refresh_token</code> 这三个变量，将其分别填入本项目下的 <code>config.js</code> 中，需要注意这三个值必须被成对的英文引号包裹，且引号后以英文逗号结尾，也就是需要符合JavaScript的<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Object_initializer">对象语法</a></li>
</ul>
<p>如果你没有配置过rclone，可以搜索<code>rclone google drive 教程</code>完成相关配置。</p>
<p>如果你的<code>rclone.conf</code>里没有<code>client_id</code>和<code>client_secret</code>，说明你配置rclone的时候默认用了rclone自己的client_id，连rclone自己<a href="https://github.com/rclone/rclone/blob/8d55367a6a2f47a1be7e360a872bd7e56f4353df/docs/content/drive.md#making-your-own-client_id">都不建议这样做</a>，因为大家共享了它的接口调用限额，在使用高峰期可能会触发限制。</p>
<p>获取自己的clinet_id可以参见这两篇文章：<a href="https://github.com/Cloudbox/Cloudbox/wiki/Google-Drive-API-Client-ID-and-Client-Secret">Cloudbox/wiki/Google-Drive-API-Client-ID-and-Client-Secret</a> 和 https://p3terx.com/archives/goindex-google-drive-directory-index.html#toc_2</p>
<p>获取到client_id和client_secret后，再次执行一遍<code>rclone config</code>，创建一个新的remote，<strong>在配置过程中一定要填入你新获取的clinet_id和client_secret</strong>，就能在<code>rclone.conf</code>里看到新获取的<code>refresh_token</code>了。<strong>注意，不能使用之前的refrest_token</strong>，因为它对应的是rclone自带的client_id</p>
<p>参数配置好以后，在命令行执行 <code>node check.js</code>，如果命令返回了你的谷歌硬盘根目录的数据，说明配置成功，可以开始使用本工具了。</p>
<h2 id="bot配置">Bot配置</h2>
<p>如果要使用 telegram bot 功能，需要进一步配置。</p>
<p>首先在 https://core.telegram.org/bots#6-botfather 根据指示拿到 bot 的 token，然后填入 config.js 中的 <code>tg_token</code> 变量。</p>
<p>接下来需要将代码部署到服务器上。 如果你一开始就是在服务器上配置的，可以直接执行<code>npm i pm2 -g</code></p>
<p>如果你之前是在本地操作的，请在服务器上同样重复一遍，配置好相关参数后，执行<code>npm i pm2 -g</code>安装进程守护程序pm2</p>
<p>安装好pm2之后，执行 <code>pm2 start server.js</code>，代码运行后会在服务器上监听<code>23333</code>端口。</p>
<p><em>如果你不想用nginx，可以将<code>server.js</code>中的<code>23333</code>改成<code>80</code>直接监听80端口（可能需要root权限）</em></p>
<p>接下来可通过nginx或其他工具起一个web服务，示例nginx配置：</p>
<pre><code>server {
  listen 80;
  server_name your.server.name;

  location / {
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_pass http://127.0.0.1:23333/;
  }
}
</code></pre>
<p>配置好nginx后，可以再套一层cloudflare，具体教程请自行搜索。</p>
<p>检查网站是否部署成功，可以命令行执行（请将YOUR_WEBSITE_URL替换成你的网址）</p>
<pre><code>curl 'YOUR_WEBSITE_URL/api/gdurl/count?fid=124pjM5LggSuwI1n40bcD5tQ13wS0M6wg'
</code></pre>
<figure data-type="image" tabindex="1"><a href="https://github.com/iwestlin/gd-utils/blob/master/static/count.png"><img src="https://github.com/iwestlin/gd-utils/raw/master/static/count.png" alt="img" loading="lazy"></a></figure>
<p>如果返回了这样的文件统计，说明部署成功了。</p>
<p>最后，在命令行执行（请将[YOUR_WEBSITE]和[YOUR_BOT_TOKEN]分别替换成你自己的网址和bot token）</p>
<pre><code>curl -F &quot;url=[YOUR_WEBSITE]/api/gdurl/tgbot&quot; 'https://api.telegram.org/bot[YOUR_BOT_TOKEN]/setWebhook'
</code></pre>
<p>这样，就将你的服务器连接上你的 telegram bot 了，试着给bot发送个 <code>/help</code>，如果它回复给你使用说明，那就配置成功了。</p>
<h2 id="补充说明">补充说明</h2>
<p>在<code>config.js</code>文件里，还有另外的几个参数：</p>
<pre><code>// 单次请求多少毫秒未响应以后超时（基准值，若连续超时则下次调整为上次的2倍）
const TIMEOUT_BASE = 7000

// 最大超时设置，比如某次请求，第一次7s超时，第二次14s，第三次28s，第四次56s，第五次不是112s而是60s，后续同理
const TIMEOUT_MAX = 60000

const LOG_DELAY = 5000 // 日志输出时间间隔，单位毫秒
const PAGE_SIZE = 1000 // 每次网络请求读取目录下的文件数，数值越大，越有可能超时，不得超过1000

const RETRY_LIMIT = 7 // 如果某次请求失败，允许其重试的最大次数
const PARALLEL_LIMIT = 20 // 网络请求的并行数量，可根据网络环境调整

const DEFAULT_TARGET = '' // 必填，拷贝默认目的地ID，如果不指定target，则会拷贝到此处，建议填写团队盘ID，注意要用英文引号包裹
</code></pre>
<p>读者可根据各自情况进行调整</p>
<h2 id="注意事项">注意事项</h2>
<p>程序的原理是调用了<a href="https://developers.google.com/drive/api/v3/reference/files/list">google drive官方接口</a>，递归获取目标文件夹下所有文件及其子文件夹信息，粗略来讲，某个目录下包含多少个文件夹，就至少需要这么多次请求才能统计完成。</p>
<p>目前尚不知道google是否会对接口做频率限制，也不知道会不会影响google账号本身的安全。</p>
<p><strong>请勿滥用，后果自负</strong></p>
<hr>
<h1 id="宝塔版">宝塔版</h1>
<h3 id="本教程在原教程的基础上进行细节补充并且操作基于宝塔对小白更友好">本教程在原教程的基础上进行细节补充，并且操作基于宝塔，对小白更友好！</h3>
<h4 id="安装宝塔面板">安装宝塔面板:</h4>
<h6 id="centos安装命令"><strong>Centos安装命令</strong></h6>
<pre><code class="language-javascript">yum install -y wget &amp;&amp; wget -O install.sh http://download.bt.cn/install/install_6.0.sh &amp;&amp; sh install.sh
</code></pre>
<h6 id="ubuntudeepin安装命令"><strong>Ubuntu/Deepin安装命令</strong></h6>
<pre><code class="language-javascript">wget -O install.sh http://download.bt.cn/install/install-ubuntu_6.0.sh &amp;&amp; sudo bash install.sh
</code></pre>
<h6 id="debian安装命令"><strong>Debian安装命令：</strong></h6>
<pre><code class="language-javascript">wget -O install.sh http://download.bt.cn/install/install-ubuntu_6.0.sh &amp;&amp; bash install.sh
</code></pre>
<p>安装好宝塔面板后，根据提示安装Ngnix，web环境, 然后在宝塔面板软件管理安装PM2管理器，安装好会自带node.js。</p>
<figure data-type="image" tabindex="2"><img src="https://www.ikarosone.top/wp-content/uploads/2020/06/PM2.5-1024x403.jpg" alt="img" loading="lazy"></figure>
<figure data-type="image" tabindex="3"><img src="https://www.ikarosone.top/wp-content/uploads/2020/06/%E6%89%B9%E6%B3%A8-2020-06-28-130246.jpg" alt="img" loading="lazy"></figure>
<p>在宝塔里新建一个网站，填写你的域名(请提前解析好你的域名！)使用宝塔自带的一申请SSL证书。</p>
<figure data-type="image" tabindex="4"><img src="https://www.ikarosone.top/wp-content/uploads/2020/06/%E6%89%B9%E6%B3%A8-2020-06-28-130923.jpg" alt="img" loading="lazy"></figure>
<p>SSH连接终端克隆项目到本地</p>
<pre><code class="language-javascript">git clone https://github.com/iwestlin/gd-utils &amp;&amp; cd gd-utils
</code></pre>
<h4 id="安装依赖">安装依赖</h4>
<pre><code class="language-javascript">npm i
</code></pre>
<p>如果报错信息里有<code>Error: not found: make</code>之类的消息，说明你的命令行环境缺少make命令，执行安装make</p>
<pre><code class="language-javascript">sudo apt-get install make//安装make
rm -rf /root/gd-utils/node_modules//删除node_modules
npm i//重新安装依赖
</code></pre>
<p>如果以上命令还是出错，可以再次删除/root/gd-utils目录下的node_modules，并执行以下命令</p>
<pre><code class="language-javascript">rm -rf /root/gd-utils/node_modules//删除node_modules
npm install --unsafe-perm=true --allow-root
</code></pre>
<h4 id="service-account-配置-2">Service Account 配置</h4>
<p>强烈建议使用service account（后称SA）, 获取方法请参见 <a href="https://gsuitems.com/index.php/archives/13/#%E6%AD%A5%E9%AA%A42%E7%94%9F%E6%88%90serviceaccounts">https://gsuitems.com/index.php/archives/13/</a> 获取到 SA 的 json 文件后，请将其拷贝到 <code>sa</code> 目录下，复制sa命令：</p>
<pre><code class="language-javascript">cd /root/AutoRclone/accounts/
cp -r ./* /root/gd-utils/sa
</code></pre>
<p>接着回到sa目录(cd /root/gd-utils/sa),输入ls你会看到你复制过来的sa</p>
<figure data-type="image" tabindex="5"><img src="https://www.ikarosone.top/wp-content/uploads/2020/06/%E6%89%B9%E6%B3%A8-2020-06-28-135311-1024x569.jpg" alt="img" loading="lazy"></figure>
<h4 id="个人帐号配置-2">个人帐号配置</h4>
<p>之前配置好rclone的，执行命令 cat /root/.config/rclone/rclone.conf 可以看到自己的client_id, client_secret 和 refresh_token 这三个变量，把这三个变量填入/root/gd-utils/config.js对应的项中 ，然后执行</p>
<pre><code class="language-javascript">node check.js
</code></pre>
<p>如果命令返回了你的谷歌硬盘根目录的数据，说明配置成功，</p>
<figure data-type="image" tabindex="6"><img src="https://www.ikarosone.top/wp-content/uploads/2020/06/%E6%89%B9%E6%B3%A8-2020-06-28-140950-1024x540.jpg" alt="img" loading="lazy"></figure>
<h4 id="bot配置-2">Bot配置</h4>
<p>首先在 https://core.telegram.org/bots#6-botfather 根据指示拿到 bot 的 token，然后填入 config.js 中的 <code>tg_token</code> 变量，还有不要忘记填入自己的电报用户名(t.me/username),记得删除[]格式为tg_whitelist: ‘t.me/username’</p>
<figure data-type="image" tabindex="7"><img src="https://www.ikarosone.top/wp-content/uploads/2020/06/%E6%89%B9%E6%B3%A8-2020-06-28-141547.jpg" alt="img" loading="lazy"></figure>
<p>回到宝塔面板，在安全选项中添加23333端口放行。</p>
<figure data-type="image" tabindex="8"><img src="https://www.ikarosone.top/wp-content/uploads/2020/06/%E6%89%B9%E6%B3%A8-2020-06-28-141923.jpg" alt="img" loading="lazy"></figure>
<p>然后在PM2管理器中添加以下项目自动运行。</p>
<figure data-type="image" tabindex="9"><img src="https://www.ikarosone.top/wp-content/uploads/2020/06/%E6%89%B9%E6%B3%A8-2020-06-28-141846.jpg" alt="img" loading="lazy"></figure>
<p>这时候回到安全选项可以看到23333端口正在使用中如果显示未使用则没有启动成功。</p>
<p>最后在网站配置里添加反向代理，站点就配置完成。</p>
<figure data-type="image" tabindex="10"><img src="https://www.ikarosone.top/wp-content/uploads/2020/06/%E6%89%B9%E6%B3%A8-2020-06-28-142744.jpg" alt="img" loading="lazy"></figure>
<p>回到终端执行以下命令（请将YOUR_WEBSITE_URL替换成你的网址）</p>
<pre><code class="language-javascript">curl 'YOUR_WEBSITE_URL/api/gdurl/count?fid=124pjM5LggSuwI1n40bcD5tQ13wS0M6wg'
</code></pre>
<p>如果返回了这样的文件统计，说明部署成功了</p>
<figure data-type="image" tabindex="11"><img src="https://www.ikarosone.top/wp-content/uploads/2020/06/%E6%89%B9%E6%B3%A8-2020-06-28-143247.jpg" alt="img" loading="lazy"></figure>
<p>最后，在命令行执行（请将[YOUR_WEBSITE]和[YOUR_BOT_TOKEN]分别替换成你自己的网址和bot token）</p>
<pre><code class="language-javascript">curl -F &quot;url=YOUR_WEBSITE/api/gdurl/tgbot&quot; 'https://api.telegram.org/botYOUR_BOT_TOKEN/setWebhook'
</code></pre>
<p>这样，就将你的服务器连接上你的 telegram bot 了，试着给bot发送个 <code>/help</code>，如果它回复给你使用说明，那就配置成功了。</p>
<figure data-type="image" tabindex="12"><img src="https://www.ikarosone.top/wp-content/uploads/2020/06/%E6%89%B9%E6%B3%A8-2020-06-28-143841-1024x320.jpg" alt="img" loading="lazy"></figure>
<p><em>注：转载于 https://www.ikarosone.top/archives/195.html &amp; https://github.com/iwestlin/gd-utils</em></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[低价大盘鸡frantech (大硬盘VPS&G口带宽无限流量)]]></title>
        <id>https://www.qiantigers.top/post/di-jie-da-pan-ji-frantech-da-ying-pan-vpsandg-kou-dai-kuan-wu-xian-liu-liang/</id>
        <link href="https://www.qiantigers.top/post/di-jie-da-pan-ji-frantech-da-ying-pan-vpsandg-kou-dai-kuan-wu-xian-liu-liang/">
        </link>
        <updated>2020-06-28T12:38:45.000Z</updated>
        <content type="html"><![CDATA[<ul>
<li>
<p><strong>先说下这个家VPS的优缺点，方便你们根据自己需求决定要不要入。</strong></p>
</li>
<li>
<p><strong>优点1：</strong> 便宜！512M的KVM切片只要2加元/月（网站和账单显示的货币单位是USD美元，实际我支付宝付款汇率是按C$加元来的，这家VPS总部是加拿大的），换算RMB10元多点；</p>
</li>
<li>
<p><strong>优点2：</strong> 提供块存储，也超便宜，每256G硬盘只要1.25加元，1T硬盘只要5加元/月，如果选2加元的切片+256G存储，只要3.25加元，约17元人民币。像Vultr家光是对象存储，250G硬盘、1T流量要5美元；</p>
</li>
<li>
<p><strong>优点3：</strong> 稳定，因为是KVM切片（本身自带一定大小SSD）+块存储（机械盘），有点像我们电脑固态+机械的组合。512MB的内存实际总可用为481MB，但是在我拷贝文件到OneDrive时却没有崩溃过，虽然拷贝时内存使用率也会在80%左右。不像之前用过一家俄罗斯的实际可用内存490多MB的，默认同时同步4个文件时经常因为内存负载问题崩溃，只能改为同时传三个文件才行。</p>
</li>
<li>
<p><strong>优点4：</strong> G口（千兆）带宽不限流量，同时拥有G口还不限速真的稀有，大多数VPS只能满足其中之一，要么G口给你几个T流量，要么不限流只给你100M带宽。</p>
</li>
<li>
<p><strong>缺点：</strong> 虽然只有一个，但是也够致命了。估计有人瞄到下面的三色图也猜到了，又便宜又稳定基本速度都不行（这个速度是本地跟服务器的连接速度，不影响云端下BT的），ping值很高，普遍接近300，部分地区甚至五六百，不适合用来科学上网和建站。</p>
</li>
</ul>
<figure data-type="image" tabindex="1"><img src="https://cdn.jsdelivr.net/gh/qiantigers/p000i000c//PicGo/image-20200628182956180.png" alt="image-20200628182956180" loading="lazy"></figure>
<p>综合以上特点这玩意最适合拿来搞私有云离线下载了。服务器对于BT的下载能力比我们受制于ISP的个人宽带要强多了，我最高下载速度到过60多MB/s（极罕见，估计做种的人要么也是用服务器，或者就是千兆以上带公网IP的的网络），多数新片月内10-30MB/s的速度还是能达到的，就算年久的电影原盘速度只有100KB/s，鉴于服务器可以24小时不间断下载且很少会掉速，不像本地下经常今天几百DHT明天亮黄灯，40GB的原盘5天左右就能下完。然后通过配置自动上传下好的文件到OneDrive或Google Drive等网盘上，再从这些网盘上下载或在线观看视频。如果你还没看过这个配置离线下载和自动上传网盘的教程这里有传送门 https://www.twoha.tk/aria2-rclone/</p>
<p>下面就开始服务器购买配置流程，这家对于小白来说流程比较复杂，我尽可能写 长 详细点，如果照流程还是遇到问题还请评论指出，可能存在被我忽略的一些东西。</p>
<hr>
<h2 id="注册">注册</h2>
<p>点击去注册：<a href="https://1ove.club/vps">https://my.frantech.ca</a><br>
然后如下图操作</p>
<figure data-type="image" tabindex="2"><img src="https://cdn.jsdelivr.net/gh/qiantigers/p000i000c//PicGo/20200628184908.png" alt="image-20200628184209067" loading="lazy"></figure>
<p>接着填写相关信息，地址姓名用拼音就行。需要注意以下几点：<code>这家服务商审查比较严，注册和购买服务器时也不建议用梯子，防止以后IP变来变去被系统认定为欺诈，轻则会进入人工审核时间会拖好几天，重则可能封号；信息尽量不要乱填一些国外的，姓名随便整个中文名也没关系；电话选中国+86的，号码不用真的也没关系，不会给你发短息之类，但是不建议填国外的；国家省份城市要跟你的IP所在地对的上，街道不用很详细，随便写你这个城市某个街道或小区都可以。</code>如果真的要用梯子也因为用了梯子导致人工审核，可以给客服发个工单说下原因，比如你不用梯子打不开网站之类的客服会帮你处理的。<br>
其它信息填完点注册即可。注册完好像有邮箱验证，记不清了，注意看下就行。邮箱不建议用QQ的，容易延迟或丢件。</p>
<figure data-type="image" tabindex="3"><img src="https://cdn.jsdelivr.net/gh/qiantigers/p000i000c//PicGo/20200628190111.png" alt="image-20200628185816544" loading="lazy"></figure>
<h2 id="购买服务器">购买服务器</h2>
<p>进入商店菜单选购服务器</p>
<figure data-type="image" tabindex="4"><img src="https://cdn.jsdelivr.net/gh/qiantigers/p000i000c//PicGo/20200628190058.png" alt="image-20200628190058317" loading="lazy"></figure>
<p>进来后先别急着购买，看下服务器和块存储是否都有货，我教程截图2美元加元的KVM和块存储都缺货(0可用)。你不要看到拉斯维加斯2加元的KVM没货了就买其它地区的，<code>块存储只支持拉斯维加斯的KVM系列</code>，2加元的缺货问题不大，可以选3.5的，就算用3.5＋1.25的存储每月也才25RMB左右。要是块存储没货就没其它可选了，不过你也可以等有货买了再挂载也可以。补货频率就我目前一个多月观察（也不是天天看），有货的时候也有三次，每次的数量都不多，一般一两天内就售罄了。</p>
<figure data-type="image" tabindex="5"><img src="https://cdn.jsdelivr.net/gh/qiantigers/p000i000c//PicGo/20200628190143.png" alt="image-20200628190143144" loading="lazy"></figure>
<p>块存储1.25/256G/月，可以按这个比例自定义硬盘大小。</p>
<figure data-type="image" tabindex="6"><img src="https://cdn.jsdelivr.net/gh/qiantigers/p000i000c//PicGo/20200628190223.png" alt="image-20200628190223190" loading="lazy"></figure>
<p>这个页面没有详细参数，VPS只标注内存一个参数，块存储只标注了价格没说明容量，如果你想看详细配置说明得去<a href="https://buyvm.net/kvm-dedicated-server-slices/">BuyVm</a>这个网站，搞不懂为什么要把介绍页面和商店页面分开搞，域名还不一样，后来查了下确实是一家，我还以为其中一个是代理商页面，KVM服务器也是自带有SSD硬盘的，3.5加元的为20G的SSD，系统和软件占用大概3G左右，所以如果暂时买不到块存储，17G内的资源也还是可以下的。</p>
<figure data-type="image" tabindex="7"><img src="https://cdn.jsdelivr.net/gh/qiantigers/p000i000c//PicGo/20200628190310.png" alt="image-20200628190310130" loading="lazy"></figure>
<p>2加元的没货我就选了3.5的来演示，建议单月购买，快到期了续下费就好，因为这家VPS不是DMCA FREE，说白了就是禁止下载盗版资源，但是实际个人下下问题不大，不要公开做影视站点就行，保险点别一次买太长免得中途下车。<br>
细心的人可能发现了结算金额有点奇怪，怎么我选的3.5的只显示2.33，我第一次买的时候还以为是新人优惠，直到看到我的服务器到期时间我才知道不对。这家VPS是按自然月计费的，好像是每月20号前购买一个月就到下个月1号截至，时间不足一月就不是一个月价钱了；如果是20号后买1个月，则是到下下个月1号接截至，所以会超过3.5的价格。<code>也因为自然月结算的关系，月初可能会因为有人不续费（貌似要5号，因为就算到期也会给你保留几天名额让你赶得上续费），使得2加元KVM和块存储有货的概率大大提高。</code><br>
选好时长后没其他需求只要下面服务器名称和root密码填下，然后继续就可以了。</p>
<figure data-type="image" tabindex="8"><img src="https://cdn.jsdelivr.net/gh/qiantigers/p000i000c//PicGo/20200628195709.png" alt="image-20200628191332502" loading="lazy"></figure>
<p>核对下信息，无误选择支付方式付款即可。<br>
有没有发现选购步骤跟其它VPS有什么区别，好像少了个步骤……这里先卖个关子后面再说。</p>
<figure data-type="image" tabindex="9"><img src="https://cdn.jsdelivr.net/gh/qiantigers/p000i000c//PicGo/20200628191749.png" alt="image-20200628191748971" loading="lazy"></figure>
<p>块存储的购买过程差不多我就不复述了。付款后可以在我的服务里面查看你购买的VPS，但是这里只能查看简单的状态，管理后台要从主菜单<code>Stallion</code>进入，Stallion是控制面板的名称，翻译过来是种马，意思是很能干吗😱❓</p>
<figure data-type="image" tabindex="10"><img src="https://cdn.jsdelivr.net/gh/qiantigers/p000i000c//PicGo/20200628201938.png" alt="image-20200628201331289" loading="lazy"></figure>
<h2 id="安装系统">安装系统</h2>
<p>看到这个大标题没，前面少的步骤就是没有系统选择。当初我傻了吧唧就用邮件发我的IP准备SSH连接，挂了代理登也总失败。仔细一想好像系统都没装过，然后又想起来它有这么一个控制面板，开始我以为这控制面板功能就跟SSH差不多，懒得用，后来进去发现这种马确实挺能干的。</p>
<figure data-type="image" tabindex="11"><img src="https://cdn.jsdelivr.net/gh/qiantigers/p000i000c//PicGo/20200628201932.png" alt="image-20200628201513575" loading="lazy"></figure>
<p>登录进来的界面，默认是在虚拟服务器菜单下，点击<strong>蓝字</strong>服务器名称可以进入服务器配置页面。</p>
<figure data-type="image" tabindex="12"><img src="https://cdn.jsdelivr.net/gh/qiantigers/p000i000c//PicGo/20200628201925.png" alt="image-20200628201925037" loading="lazy"></figure>
<p>其它设置我就不说了，我自己有些也不太懂，这里来安装系统，我是在<code>Reinstall</code>这个重装系统菜单里安装系统的，在<code>CD-ROM</code>也可以安装。如果你要选其它系统你自己选，这里只是演示。装好你再用SSH登录看看应该就可以了。</p>
<figure data-type="image" tabindex="13"><img src="https://cdn.jsdelivr.net/gh/qiantigers/p000i000c//PicGo/20200628203439.png" alt="image-20200628203019678" loading="lazy"></figure>
<h2 id="挂载块存储">挂载块存储</h2>
<p>要给VPS添加硬盘还是得进入这个控制面板，这回进入存储卷的菜单，找到你购买的块存储，点设置按钮附加到虚拟服务器，然后会有个弹窗让你选择要附加的服务器，附加后还没搞好，要登录VPS设置下，就像你一个新硬盘接到电脑并不会立刻识别一样，还需格式化之类的操作。</p>
<figure data-type="image" tabindex="14"><img src="https://cdn.jsdelivr.net/gh/qiantigers/p000i000c//PicGo/20200628203424.png" alt="image-20200628203414170" loading="lazy"></figure>
<p>设置前去邮箱看看关于块存储的邮件，里面有这么一段话摘录在下方。关键点是<code>/dev/sd*</code>，不知道它家是不是通用都叫这个名字，如果你的邮件不是叫这个那后面的代码相应的也修改下，不过我觉得概率不大。Vultr家是通用叫<code>/dev/vdb</code>，还有这个<em>号不知道是不是通配符可以不填，比如第一个卷是sda、第二个是sdb、然后c、d、e、f这样的延续，也没试，反正我后面代码都带上这个</em>号的。</p>
<blockquote>
<p>All Volumes are attached via hotplug meaning that, at least on Linux, the drive will automatically show up as <code>/dev/sd*</code>. Windows users may need to install Virtio-SCSI drivers to use their volumes.</p>
<p>机翻：所有卷都通过热插拔连接这意味着，至少在Linux上，驱动器会自动显示为<code>/dev/sd*</code>。 Windows用户可能需要安装为Virtio-SCSI驱动器使用它们的体积。</p>
</blockquote>
<p>使用下面代码进行创建分区、格式化EXT4文件系统、最后挂载到VPS上。挂载代码里的<code>/mnt/file</code>这个是挂载的磁盘目录，你也可以自定义其它目录名。</p>
<pre><code class="language-php">#创建分区
parted -s /dev/sd* mklabel gpt
parted -s /dev/sd* unit mib mkpart primary 0% 100%

#创建EXT4文件系统
mkfs.ext4 /dev/sd*1

#挂载块存储
mkdir /mnt/file
echo &gt;&gt; /etc/fstab
echo /dev/sd*1 /mnt/file ext4 defaults,noatime,nofail 0 0 &gt;&gt; /etc/fstab
mount /mnt/file
</code></pre>
<p>最后SSH里输入<code>df -h</code>看看这个磁盘是不是挂载进来了，有就大功告成了。</p>
<hr>
<p>挂载硬盘踩过的坑：我第一次因为2加元的没货购买的3.5加元的KVM，后来2加元的有货我就买了6个月2加元的（因为6个月的便宜16%，RMB45元都不到，奇怪的是贵的KVM反而没优惠）。重新购买后我又得将块存储从原来服务器分离然后挂载到新的，结果分离后再附加却没有新的服务器选项。后来工单客服，第二天回复我说这个节点还没对块存储进行正确配置，说安排给我处理，过了6个小时回我说好了让我试下。我刚开始试发现还是只有一个选项（这时块存储又被我附加回第一个服务器上了），后来将其分离后就出来新的第二个选项可以挂载了。</p>
<p><em>注：转载于 https://www.twoha.tk/buyvm-frantech/</em></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[利用Heroku部署Aria2离线下载并同步上传到Onedrive等网盘]]></title>
        <id>https://www.qiantigers.top/post/li-yong-heroku-bu-shu-aria2-chi-xian-xia-zai-bing-tong-bu-shang-chuan-dao-onedrive-deng-wang-pan/</id>
        <link href="https://www.qiantigers.top/post/li-yong-heroku-bu-shu-aria2-chi-xian-xia-zai-bing-tong-bu-shang-chuan-dao-onedrive-deng-wang-pan/">
        </link>
        <updated>2020-06-28T08:04:08.000Z</updated>
        <content type="html"><![CDATA[<h2 id="背景">背景</h2>
<p>自己最近搭建heroku+aria2的离线下载，感觉这个算是白嫖中很不错的东西，所以还是建议搭建一下的。</p>
<h2 id="如何部署">如何部署</h2>
<p>这里省去注册Heroku以及登录的过程。</p>
<p>作者的项目：<a href="https://github.com/maple3142/">maple3142</a> / <a href="https://github.com/maple3142/heroku-aria2c">heroku-aria2c</a></p>
<p>点击进入作者的项目，在下面的介绍内容中有个紫色的Deploy按钮，点击它<mark>或者</mark>直接点击本文中下面的按钮</p>
<figure data-type="image" tabindex="1"><a href="https://dashboard.heroku.com/new?button-url=https%3A%2F%2Fgithub.com%2Fmaple3142%2Fheroku-aria2c&amp;template=https%3A%2F%2Fgithub.com%2Fmaple3142%2Fheroku-aria2c"><img src="https://camo.githubusercontent.com/83b0e95b38892b49184e07ad572c94c8038323fb/68747470733a2f2f7777772e6865726f6b7563646e2e636f6d2f6465706c6f792f627574746f6e2e737667" alt="点击我直接部署" loading="lazy"></a></figure>
<p>就会进入Heroku的创建app页面。</p>
<p><img src="https://cdn.jsdelivr.net/gh/qiantigers/p000i000c//PicGo/t81HwF3svxidCbh.png" alt="Heroku的创建app页面" loading="lazy">Heroku的创建app页面</p>
<p>这时候需要填的东西如下，带*为必填项</p>
<table>
<thead>
<tr>
<th>项目</th>
<th>解释</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>App name</code> *</td>
<td>你要创建的应用名</td>
<td><code>aria2dl</code></td>
</tr>
<tr>
<td><code>ARIA2C_SECRET</code> *</td>
<td>进入Aria2的密码</td>
<td><code>password</code></td>
</tr>
<tr>
<td><code>HEROKU_APP_NAME</code> *</td>
<td>和上面填的应用名一样</td>
<td><code>aria2dl</code></td>
</tr>
<tr>
<td><code>RCLONE_CONFIG</code></td>
<td>你的RCLONE配置</td>
<td>见下文</td>
</tr>
<tr>
<td><code>RCLONE_DESTINATION</code></td>
<td>需要同步的目标网盘的路径必须以<code>/</code>开头</td>
<td><code>/tmp</code></td>
</tr>
</tbody>
</table>
<p>最后两个是如果你需要将离线下载的文件同步到自己的网盘或者存储的话才需要填写。</p>
<p>但是建议同步到自己的网盘，因为Heroku保存的问题好像就一个小时还是可能休眠了重启了就消失了。两面性吧，好处是可以通过休眠重启来删除文件，不好的地方是文件不能长久保存。</p>
<p><code>RCLONE_CONFIG</code>这个选项的话我一开始碰了壁，后来知道原来这么写。 前提是你已经配置过rclone，如果是在Windows下配置过rclone的话，一般配置文件在<code>/$HOME/.config/rclone/rclone.conf</code>，也可以通过命令<code>rclone config file</code>来显示配置文件路径。</p>
<p>打开对应的配置文件<code>rclone.conf</code>，可以看到格式为下面的内容，或者直接使用<code>rclone</code>命令也可以查看 <code>rclone config show [&lt;remote&gt;] [flags]</code></p>
<pre><code>[XXDrive]type = onedrivetoken = {&quot;access_token&quot;:&quot;省略&quot;,&quot;expiry&quot;:&quot;2020-02-29T00:06:11.2713766+09:00&quot;}drive_id = b!mcwoiDfma0qsSX_省略gSqJBBrD9W6XXdrive_type = business
</code></pre>
<p>只要选下面这些内容填入<code>RCLONE_CONFIG</code>选项就可以，其实就是不要盘名和每行用<code>\n</code>来连接，但是我试了下像下面这样换行 加上<code>\n</code>也是可以。。。</p>
<pre><code>type = onedrive\ntoken = {&quot;access_token&quot;:&quot;省略&quot;,&quot;expiry&quot;:&quot;2020-02-29T00:06:11.2713766+09:00&quot;}\ndrive_id = b!mcwoiDfma0qsSX_省略gSqJBBrD9W6XX\ndrive_type = business
</code></pre>
<p>最后一个选项<code>ARIA2C_SECRET</code>的话需要，就是你要上传到那个网盘的哪个路径下，可以用<code>/</code>代表上传到根目录。</p>
<p>最后点击<code>Deploy app</code>就可以看到它自动部署了。等看到部署成功后就可以点击<code>Open app</code>或者<code>View</code>来打开或者直接访问 <code>https://你设置好的应用名.herokuapp.com</code>。</p>
<h2 id="享用">享用</h2>
<p>打开后显示如下的话说明部署没问题</p>
<p><img src="https://cdn.jsdelivr.net/gh/qiantigers/p000i000c//PicGo/NAaYSChH9mLKwuE.png" alt="部署成功" loading="lazy">部署成功</p>
<p>在输入框内填入你设置好的<code>ARIA2C_SECRET</code>密码，比如<code>password</code>，然后点击你要去的地方 - Go to AriaNg panel 离线下载面板 - View downloaded files 查看下载后的文件</p>
<h2 id="如何保持heroku的活跃呢">如何保持Heroku的活跃呢？</h2>
<p>在这里使用到了腾讯云的云拨测</p>
<p><a href="https://console.cloud.tencent.com/cat">https://console.cloud.tencent.com/cat</a></p>
<p>进入上方的链接，我们会看到</p>
<figure data-type="image" tabindex="2"><img src="https://cdn.jsdelivr.net/gh/qiantigers/p000i000c//PicGo/image-20200628155436948.png" alt="image-20200628155436948" loading="lazy"></figure>
<table>
<thead>
<tr>
<th>选项名称</th>
<th>选项内容</th>
</tr>
</thead>
<tbody>
<tr>
<td>拨测名称</td>
<td>随意</td>
</tr>
<tr>
<td>拨测地址</td>
<td>你的heroku地址</td>
</tr>
<tr>
<td>拨测协议</td>
<td>http(s)</td>
</tr>
<tr>
<td>拨测周期</td>
<td>建议选择5分钟</td>
</tr>
</tbody>
</table>
<p>到这里就部署完毕，会定期保持heroku的活跃。</p>
<h2 id="建议">建议</h2>
<p>不要一次性下载太多的东西，也不要下载太大的文件，不然很有可能在你没有下载好之前就被heroku重置了。</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[YOURLS短链接程序]]></title>
        <id>https://www.qiantigers.top/post/yourls-duan-lian-jie-cheng-xu/</id>
        <link href="https://www.qiantigers.top/post/yourls-duan-lian-jie-cheng-xu/">
        </link>
        <updated>2020-06-28T07:25:59.000Z</updated>
        <content type="html"><![CDATA[<h2 id="前言">前言</h2>
<p>YOURLS是一款使用PHP + Mysql开发的短链接程序，相比公共短网址好处是数据掌握在自己手中，可控性更高。</p>
<h2 id="安装">安装</h2>
<h3 id="下载">下载</h3>
<p>YOURLS免费开源，可以在<a href="https://github.com/YOURLS/YOURLS/releases">Releases · YOURLS/YOURLS</a>下载最新版本，解压后放到站点根目录，并将<code>config-sample.php</code>更名为<code>config.php</code>。</p>
<h3 id="配置mysql数据库">配置MySQL数据库</h3>
<p>需要先新建一个MySQL数据库，并设置好账号、密码（略过），然后修改<code>user/config.php</code>配置文件，填写正确的MySQL信息，配置信息如下。</p>
<pre><code>#数据库用户名
define( 'YOURLS_DB_USER', 'yourls' );
 
#数据库密码
define( 'YOURLS_DB_PASS', 'xxxxxxxx' );
 
#数据库名
define( 'YOURLS_DB_NAME', 'yourls' );
 
#数据库连接地址
define( 'YOURLS_DB_HOST', 'localhost' );
 
#数据库表前缀，一般保持默认
define( 'YOURLS_DB_PREFIX', 'yourls_' );
</code></pre>
<h3 id="设置用户名密码">设置用户名密码</h3>
<p>#修改配置文件</p>
<pre><code>vi user/config.php
#设置用户名和密码，可设置多个用户
$yourls_user_passwords = array(
        'username' =&gt; 'password',
        // 'username2' =&gt; 'password2',
        // You can have one or more 'login'=&gt;'password' lines
        );
</code></pre>
<h3 id="其它设置">其它设置</h3>
<pre><code>#设置站点域名
define( 'YOURLS_SITE', 'http://your-own-domain-here.com' );
#GMT时间偏移
define( 'YOURLS_HOURS_OFFSET', '-5' );
#是否私有
define( 'YOURLS_PRIVATE', 'true' );
#设置cookie，可访问https://api.yourls.org/services/cookiekey/1.0/生成
define( 'YOURLS_COOKIEKEY', 'qQ4KhL_pu|s@Zm7n#%:b^{A[vhm' );
#mysql连接方式
define（'YOURLS_DB_DRIVER'，'mysqli'）;
</code></pre>
<h3 id="设置伪静态">设置伪静态</h3>
<p>YOURLS默认已经内置<code>Apache .htaccess</code>规则，如果是Apache服务器且开启了伪静态支持一般不用在设置，如果您使用的Nginx，请添加下面的规则，并重载Nginx</p>
<pre><code>location / {
    try_files $uri $uri/ /yourls-loader.php?$args;
}
</code></pre>
<p>或</p>
<pre><code>location /
{
if (!-f $request_filename){
        set $rule_0 1$rule_0;
}
if (!-d $request_filename){
        set $rule_0 2$rule_0;
}
if ($rule_0 = &quot;21&quot;){
        rewrite ^/([0-9A-Za-z]+)/?$ /yourls-go.php?id=$1 last;
}
        rewrite ^/([0-9A-Za-z]+)\+/?$ /yourls-infos.php?id=$1 last;
        rewrite ^/([0-9A-Za-z]+)\+all/?$ /yourls-infos.php?id=$1&amp;all=1 last;
}
</code></pre>
<h3 id="设置中文">设置中文</h3>
<p>YOURLS默认是英文界面，不方便操作，看到有网友提供了汉化，访问<a href="https://github.com/guox/yourls-zh_CN/archive/master.zip">yourls-zh_CN</a>下载汉化包，并解压至<code>user/languages</code>目录，然后修改<code>user/config.php</code>。</p>
<pre><code>#语言包放到languages
[root@aliyun-hz languages]# ll
total 68
-rw-r--r-- 1 www www   210 Apr 23  2017 index.html
-rw-r--r-- 1 www www    51 Mar 24  2013 README.md
-rw-r--r-- 1 www www 22123 Mar 24  2013 zh_CN.mo
-rw-r--r-- 1 www www 32783 Mar 24  2013 zh_CN.po
#修改配置文件启用中文
vi user/config.php
#启用中文
define( 'YOURLS_LANG', 'zh_CN' );
</code></pre>
<h3 id="访问测试">访问测试</h3>
<p>完成以上配置后访问<code>http://yourdomain.com/admin</code>完成初安装，输入步骤3中设置的账号、密码进行登录。</p>
<h3 id="补充">补充</h3>
<p>在访问<code>http://yourdomain.com/admin</code>时可能会出现500错误，这是由于数据库编码方式造成的。修改编码方式为UTF8即可。</p>
<pre><code>mysql -u root -p 数据库密码
ALTER DATABASE 数据库名称 CHARACTER set = utf8;
exit;
</code></pre>
<p>如果想短链设置为半公开，也即后台管理有密码，但是别人也可以添加短链接，则设置<code>define( 'YOURLS_PRIVATE', 'true' );</code>并且将yourl存放目录下的sample-public-front-page.txt 重命名为index.php。</p>
<pre><code>cp sample-public-front-page.txt index.php
</code></pre>
<p>此时访问主页则不会出现404页面。</p>
<h2 id="总结">总结</h2>
<p>YOURLS还可以对链接数据进行统计，包括访问量/地区/来源等，同时还提供API支持（参考官方文档），功能对于个人来说基本够用，但是界面确有点简约，不过这无伤大雅。</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Gride+GitHub+VPS]]></title>
        <id>https://www.qiantigers.top/post/gridegithubvps/</id>
        <link href="https://www.qiantigers.top/post/gridegithubvps/">
        </link>
        <updated>2020-06-24T13:54:42.000Z</updated>
        <content type="html"><![CDATA[<p>Gridea是一个静态博客程序，它和hexo有很多相似之处，但是我选择它的原因在于其拥有客户端，在文章发表方面比较便利。</p>
<p>Gridea分为三种模式：GitHub、Coding、SFTP</p>
<p>简单分析一下吧，</p>
<ul>
<li>GitHub
<ul>
<li>优点：空间大，上传稳定</li>
<li>缺点：就是其访问速度，速度如何想必大家都会清楚。</li>
</ul>
</li>
<li>Coding
<ul>
<li>优点：国内托管，实测ping的地址在新加坡，访问速度还是可以的</li>
<li>缺点：仓库空间有点小，2G；一个小时只能进行10次修改，这个问题我个人觉得是个比较难受的地方。</li>
</ul>
</li>
<li>SFTP
<ul>
<li>优点：隐私性高，速度快（当然前提是你的VPS或者虚拟空间比较给力）</li>
<li>缺点：这个问题太大了，同步太不稳定，基本上不尝试七八次很难成功。</li>
</ul>
</li>
</ul>
<p>然后在网上和相关Gridea群里得到了很多建议，最终决定了Gridea+GitHub+VPS的模式，GitHub的存在主要就是解决SFTP上传不稳定的问题，下面介绍一下如何实现。</p>
<p>这里以宝塔界面为例：</p>
<h2 id="1-本人服务器是centos-7-系统">1. 本人服务器是CentOS 7 系统</h2>
<p>VPS安装Git，命令行输入<code>yum install git</code></p>
<h2 id="2-宝塔面板使用webhook插件">2. 宝塔面板使用webhook插件</h2>
<figure data-type="image" tabindex="1"><img src="https://cdn.jsdelivr.net/gh/qiantigers/p000i000c//PicGo/image-20200624211053272.png" alt="" loading="lazy"></figure>
<p>第一步：进入软件商店</p>
<p>第二步：搜索框输入“webhook”，具体作用可自行搜索，简单点说就是用来拉取github更新的应用</p>
<p>第三步：安装</p>
<h2 id="3-在webhook中设置shell脚本">3. 在webhook中设置shell脚本</h2>
<figure data-type="image" tabindex="2"><img src="https://cdn.jsdelivr.net/gh/qiantigers/p000i000c//PicGo/image-20200624211551571.png" alt="" loading="lazy"></figure>
<p>添加的时候可以随便输入，名称和执行脚本内容随意输入</p>
<p>然后点击编辑，如下图所示</p>
<p>​	<img src="https://cdn.jsdelivr.net/gh/qiantigers/p000i000c//PicGo/image-20200624211658168.png" alt="" loading="lazy"></p>
<p>​	在此可以输入一下代码</p>
<pre><code>#!/bin/bash
echo &quot;&quot;
# 输出当前时间
date --date='0 days ago' &quot;+%Y-%m-%d %H:%M:%S&quot;
echo &quot;Start&quot;
# 判断宝塔WebHook参数是否存在
if [ ! -n &quot;$1&quot; ];
then 
          echo &quot;param参数错误&quot;
          echo &quot;End&quot;
          exit
fi
# git项目路径
gitPath=&quot;/www/wwwroot/$1&quot;
# git 网址
gitHttp=&quot;https://github.com/用户名/仓库名.git&quot;

echo &quot;Web站点路径：$gitPath&quot;

# 判断项目路径是否存在
if [ -d &quot;$gitPath&quot; ]; then
        cd $gitPath
        # 判断是否存在git目录
        if [ ! -d &quot;.git&quot; ]; then
                echo &quot;在该目录下克隆 git&quot;
                git clone $gitHttp gittemp
                mv gittemp/.git .
                rm -rf gittemp
        fi
        # 拉取最新的项目文件
        git reset --hard origin/master
        git pull
        # 设置目录权限
        chown -R www:www $gitPath
        echo &quot;End&quot;
        exit
else
        echo &quot;该项目路径不存在&quot;
        echo &quot;End&quot;
        exit
fi
</code></pre>
<p>只需要更改上述文字中的用户名和仓库名即可</p>
<p>下一步，查看密匙</p>
<figure data-type="image" tabindex="3"><img src="https://cdn.jsdelivr.net/gh/qiantigers/p000i000c//PicGo/image-20200624212217036.png" alt="" loading="lazy"></figure>
<h2 id="4-在github配置webhook">4. 在GitHub配置WebHook</h2>
<p>​	进入自己对应的仓库，并进入Settings👉Webhooks，如下图所示</p>
<p>​	<img src="https://cdn.jsdelivr.net/gh/qiantigers/p000i000c//PicGo/image-20200624212449239.png" alt="" loading="lazy"></p>
<p>​	进入Webhooks后，点击右边的 Add Webhook 得到下图</p>
<p>​	<img src="https://cdn.jsdelivr.net/gh/qiantigers/p000i000c//PicGo/image-20200624212827873.png" alt="" loading="lazy"></p>
<p>最后一步填写信息，按下图填写</p>
<figure data-type="image" tabindex="4"><img src="https://cdn.jsdelivr.net/gh/qiantigers/p000i000c//PicGo/image-20200624213152652.png" alt="" loading="lazy"></figure>
<h2 id="5-自己编写一篇博客试一下效果吧">5. 自己编写一篇博客试一下效果吧</h2>
<figure data-type="image" tabindex="5"><img src="https://cdn.jsdelivr.net/gh/qiantigers/p000i000c//PicGo/image-20200624213630210.png" alt="" loading="lazy"></figure>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[购买谷歌无限云盘和白嫖谷歌团队盘]]></title>
        <id>https://www.qiantigers.top/post/gou-mai-gu-ge-wu-xian-yun-pan-he-bai-piao-gu-ge-tuan-dui-pan/</id>
        <link href="https://www.qiantigers.top/post/gou-mai-gu-ge-wu-xian-yun-pan-he-bai-piao-gu-ge-tuan-dui-pan/">
        </link>
        <updated>2020-06-15T10:10:33.000Z</updated>
        <content type="html"><![CDATA[<h3 id="创建无限共享云盘的链接">创建无限共享云盘的链接：</h3>
<blockquote>
<ol>
<li><strong><a href="https://gdrive.zppcw.cn/">https://gdrive.zppcw.cn</a></strong></li>
<li><strong><a href="https://gd.zxd.workers.dev/">https://gd.zxd.workers.dev</a></strong></li>
<li><strong><a href="http://leon.educationhost.cloud/">http://leon.educationhost.cloud</a></strong></li>
<li><strong><a href="https://gd.404edu.workers.dev/">https://gd.404edu.workers.dev</a></strong></li>
<li><strong><a href="https://forms.office.com/Pages/ResponsePage.aspx?id=7jkOzI7RHUeRMEKbNXndTsbOt8-qcPtGqa9isIXVhMVUQ1FIVERGRzJISlZKS0JSRFEwQUhIMVZVSi4u">https://forms.office.com/Pages/ResponsePage.aspx?id=7jkOzI7RHUeRMEKbNXndTsbOt8-qcPtGqa9isIXVhMVUQ1FIVERGRzJISlZKS0JSRFEwQUhIMVZVSi4u</a></strong></li>
<li><strong><a href="https://td.fastio.me/">https://td.fastio.me/</a></strong></li>
<li><strong><a href="https://teamdrive.xcpx.workers.dev/">https://teamdrive.xcpx.workers.dev/</a></strong></li>
<li><strong><a href="https://ucla.ur.workers.dev/">https://ucla.ur.workers.dev/</a></strong></li>
<li><strong><a href="https://iuj.ur.workers.dev/">https://iuj.ur.workers.dev/</a></strong></li>
<li><strong><a href="https://www.teamdrive.workers.dev/">https://www.teamdrive.workers.dev/</a></strong></li>
</ol>
</blockquote>
<h3 id="如果你想要谷歌无限云盘-google-drive-推荐到这个店铺购买16年的g-suit全局挺稳定的店铺链接"><strong>如果你想要谷歌无限云盘 Google drive ，推荐到这个店铺购买，16年的G suit全局，挺稳定的→<a href="https://1ove.club/yiyi">🔗店铺链接</a></strong></h3>
<p><img src="https://cdn.jsdelivr.net/gh/qiantigers/p000i000c//PicGo/91.jpg" width=320></img></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Office 365 Education 发展(白嫖)历史与申请]]></title>
        <id>https://www.qiantigers.top/post/office-365-education-fa-zhan-bai-piao-li-shi-yu-shen-qing/</id>
        <link href="https://www.qiantigers.top/post/office-365-education-fa-zhan-bai-piao-li-shi-yu-shen-qing/">
        </link>
        <updated>2020-06-14T11:05:54.000Z</updated>
        <content type="html"><![CDATA[<h2 id="office365发展历史">Office365发展历史</h2>
<p>早期的时间线可能会有错误，因为过去太久了，记不清楚了，也不好考证。</p>
<h2 id="2011-之前">2011 之前</h2>
<p><strong>N/A</strong>：Office 365 教育版的前身，是个叫做 Live@Edu 的东西，本质就是个给学校用的邮件系统</p>
<h2 id="2011">2011</h2>
<p><strong>早期</strong>：Live@Edu 被并入 Office 365 家族，叫做 Office 365 for Education，一切正式开始了</p>
<h2 id="2012">2012</h2>
<p><strong>未知</strong>：freedns 上的 .edu 子域，所有申请的都有桌面版授权，名字全部为 Office 365 Education</p>
<h2 id="2013">2013</h2>
<p><strong>晚期</strong>：freedns 隐藏了 .edu 域名</p>
<h2 id="2015">2015</h2>
<p><strong>早期</strong>：freedns 上出现了一些 .edu.au 子域，就像著名的 eca-jca.edu.au，tbst.edu.au，全部都可以注册 Office 365 Education</p>
<p><strong>中期</strong>：freedns 隐藏了 .edu.au 域名</p>
<h2 id="2016">2016</h2>
<p><strong>早期</strong>：桌面版和在线版分离，在线版仍然叫做 Office 365 Education，桌面版叫做 Office 365 Education Plus</p>
<p><strong>未知</strong>：freedns 出现了某 gifted school 的 org 域名，可以注册 Office 365 Education Plus；但在公布后不久便被 freedns 隐藏，这时候的 Plus 全局价格大概在 500 左右</p>
<h2 id="2017">2017</h2>
<p><strong>早期</strong>：封锁了早期 freedns 注册的全局下的所有管理员账号</p>
<p><strong>未知</strong>：Office 365 Education 和 Office 365 Education Plus 改名为 Office 365 A1 和 Office 365 A1 Plus；这个时期 A1P 的幸存域名也渐渐玩坏，如 uk 的教育域等</p>
<h2 id="2018">2018</h2>
<p><strong>11-22</strong>：部分幸存的 Office 365 A1 Plus 发生了掉许可现象，未使用的许可证被清空；同时新注册的 A1 Plus 不再是 学生 100W + 教师 50W 授权数，而是 5000 + 5000，只有当用满 5000 后才可以增加许可数量，且前提条件是域名有 A1P 注册权限，也就是说外面买到的全局不可能再增加许可证了，因为卖家肯定会删除他的 A1P 域名，并且每次只能增加 300 个许可证；没掉许可的 150W A1P 全局正式宣告绝版，当前市场价在 1W 左右</p>
<p><strong>12-14</strong>：撤销了全球大多数国家 edu 根域名的 A1 注册权限，目前还有权限的域名列表将在下文放出；此时已不再出现 A1P 掉许可情况，A1P 域名也已基本销声匿迹，幸存 1W 许可证的全局正式稳定登上发售平台</p>
<p><strong>未知</strong>：再次查封了一批 A1P 全局</p>
<h2 id="2019">2019</h2>
<p><strong>早期</strong>：此时，Office 365 A1 Plus 注册方面已彻底洗牌完毕，已经不存在随便注册一个教育域名就可以搞 A1P 的情况了，要想注册 A1P 全局，必须以学校身份和微软签署协议，即签署 Enrollment for Education Solutions (EES)、Open Value Subscription Education Solutions (OVS-ES)、school contract (单独学校合同) 三者之一才会有，并且费用在 10W 以上，同时你还需要具备够硬的英语口语水平，因为你可能需要和美国佬直接 BB</p>
<p><strong>06-01</strong>：早期被封锁管理员的 A1P 全局下的子号也开始翻车，OneDrive 页面出现了一个删除通知。截止本文发布之时，这些子账号还可以登录，也可以激活桌面软件，但是 OneDrive 已经被清空</p>
<h2 id="2020">2020</h2>
<p><strong>04-24</strong>：到这篇文章发布的时候，幸存的 A1P 全局还没有发生翻车的情况；但是我觉得，幸存的域名已被吊销权限的早期 150W 和 2018 年底 1W A1P 全局也会在未来的某一天翻车</p>
<p><strong>04-27</strong>：今天发现 Nruan 的其中某一个 Office 365 A1P 全局账号被锁定，详细状态看下面的图，怕是要完了，各位 <strong>sch.tw，office.gy</strong> 域的白嫖用户请注意数据备份；同时已验证今年开放的 <strong>nCoV.office.gy</strong> 域暂时未翻车</p>
<p><strong>4月中下</strong>：存在教育认证（微软叫有教育 TAG）的全局可以免费购买 Microsoft 365 A3 订阅 (FDA70919-1F10-4DF6-9249-A77473011840)</p>
<p><strong>05-04</strong>：前文所说的 A3 彻底暴露在大量羊毛党面前，引发了一波 A1 全局狂撸与涨价风潮；但由于微软的风控，大部分羊毛 A1 全局购买 A3 后翻车，被微软成功反撸（嗯，不包括我）</p>
<p><strong>05-06</strong>：大批教育全局被撤销了教育认证（教育 TAG），导致无法再购买教育订阅；涉及的账号疑似是早期 ac.id 等域名注册的，这次应该是一锅端，我想看到的 A1 洗牌环节终于来了！！！我再奶一口，现在掉认证的全局，有些号教育订阅和许可证还没掉，但别急，我觉得会来的。但是，A3 的出现，也基本宣告 A1P 时代的结束~~，我的青春结束了~~</p>
<p><strong>05-07</strong>：....部分昨天掉认证的全局，认证又回来了，我看不懂微软的操作了，爪巴！</p>
<p><strong>05-12</strong>：Microsoft 365 A3 锁区</p>
<p><strong>05-18</strong>：又是个值得纪念的日子，微软撤销了全部未绑定域名的教育认证权限，很好，你的目的达到了</p>
<p><strong>05-22</strong>：微软第一次官方回应了 Microsoft 365 A3 无人值守学生使用权益是配置错误才出现在后台的，并且只是给 BOT 使用的，并要求管理员在 2020-06 月底前取消使用此订阅。具体通知可前往 管理后台-健康情况-讯息中心 查看</p>
<p><strong>06-11</strong>：又是个值得纪念的日子，微软第二次下调了自助注册的许可证数目，目前给的 500(A1)/5000(A1P) 学生 + 500 教师，直接少了 10 倍</p>
<p><strong>06-17</strong>：本次查水表的力度已超出预期，已经开始有部分 2018 年的全局被锁定。</p>
<figure data-type="image" tabindex="1"><img src="https://img.moedog.org/images/2020/04/27/n365status.png" alt="" loading="lazy"></figure>
<p><em>注：本文转载于 https://moedog.org/1263.html</em></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[利用Windows PowerShell来批量创建Office 365（各种订阅）用户]]></title>
        <id>https://www.qiantigers.top/post/li-yong-windows-powershell-lai-pi-liang-chuang-jian-office-365ge-chong-ding-yue-yong-hu/</id>
        <link href="https://www.qiantigers.top/post/li-yong-windows-powershell-lai-pi-liang-chuang-jian-office-365ge-chong-ding-yue-yong-hu/">
        </link>
        <updated>2020-06-14T10:49:08.000Z</updated>
        <content type="html"><![CDATA[<p>本文参考的官方文档:<a href="https://docs.microsoft.com/zh-cn/office365/enterprise/powershell/create-user-accounts-with-office-365-powershell">https://docs.microsoft.com/zh-cn/office365/enterprise/powershell/create-user-accounts-with-office-365-powershell</a></p>
<p>首先你的电脑要能运行Windows PowerShell，win10的话，在左下角图标上右键，选择Windows PowerShell（管理员）</p>
<p>步骤 1：安装所需软件</p>
<pre><code>Install-Module -Name AzureAD
</code></pre>
<p>步骤 2：连接到 Office 365 订阅的 Azure AD</p>
<pre><code>Connect-AzureAD
</code></pre>
<p>与用于 Windows PowerShell 的 Microsoft Azure Active Directory 模块连接</p>
<p>步骤 1：安装所需软件</p>
<pre><code>Install-Module MSOnline
</code></pre>
<p>出现提示时选择A</p>
<p>好了，完成上面的环境安装后，我们就可以开始操作了</p>
<pre><code>Connect-MsolService
</code></pre>
<p>这时会让你输入账号密码，注意需要有管理权限的（或者具有创建用户权限的管理员）</p>
<figure data-type="image" tabindex="1"><a href="https://s2.ax1x.com/2019/12/23/lpOT1I.png"><img src="https://s2.ax1x.com/2019/12/23/lpOT1I.png" alt="请输入图片描述" loading="lazy"></a></figure>
<p>登陆成功后，我们就能开始操作了<br>
下面是官方给的批量创建用户的命令，我们就按照这个写就好</p>
<p><a href="https://s2.ax1x.com/2019/12/23/lpOOHS.png"><img src="https://s2.ax1x.com/2019/12/23/lpOOHS.png" alt="请输入图片描述" loading="lazy"></a><br>
我在这里给出我用的代码</p>
<pre><code>Import-Csv -Path &quot;D:\qiantigers.csv&quot; | foreach {New-MsolUser -DisplayName $_.DisplayName -FirstName $_.FirstName -LastName $_.LastName -UserPrincipalName $_.UserPrincipalName -UsageLocation $_.UsageLocation -LicenseAssignment $_.AccountSkuId} | Export-Csv -Path &quot;D:\qiantigers.csv&quot;
</code></pre>
<p>这个代码大概的意思是，读取的是我桌面（C:UsersAdministratorDesktop）的001.csv这个文件，并将结果记录在桌面（C:UsersAdministratorDesktop）的这个NewAccountResults.csv 文件中，大家在使用的时候可以自行修改这两个路径</p>
<p>csv文件由5个部分组成</p>
<figure data-type="image" tabindex="2"><a href="https://s2.ax1x.com/2019/12/23/lpXVN4.png"><img src="https://s2.ax1x.com/2019/12/23/lpXVN4.png" alt="请输入图片描述" loading="lazy"></a></figure>
<p>打开我提供的csv文件，UserPrincipalName（就是用户的登陆邮箱）需要修改一下，把后缀修改为你的域名后缀就可以了<br>
用excel的话，直接按ctrl+h，按下图操作（其中xxxxxxx.com代表你绑定在Office 365的域名）</p>
<p>除了UserPrincipalName，你还需要修改LicenseAssignment，就是你要分配给用户什么许可证</p>
<p>我的csv文件里面是这样的</p>
<pre><code>microsoft:STANDARDWOFFPACK_STUDENT
</code></pre>
<p>前面这个microsoft，你需要修改为微软给你的二级域名的前面那部分<br>
例如我的是这个admin@qiantigers.onmicrosoft.com<br>
就需要把microsoft修改为qiantigers（批量修改的方法在前面有，ctrl+h）</p>
<p>后面这个STANDARDWOFFPACK_STUDENT，代表的是学生许可证<br>
如果你想添加教师，就改为STANDARDWOFFPACK_FACULTY</p>
<p>你也可以在Windows PowerShell使用下面这个命令来看你的订阅</p>
<pre><code>Get-MsolAccountSku
</code></pre>
<p>这些都做好了，就可以真正的开始跑脚本了</p>
<pre><code>Import-Csv -Path &quot;D:\qiantigers.csv&quot; | foreach {New-MsolUser -DisplayName $_.DisplayName -FirstName $_.FirstName -LastName $_.LastName -UserPrincipalName $_.UserPrincipalName -UsageLocation $_.UsageLocation -LicenseAssignment $_.AccountSkuId} | Export-Csv -Path &quot;D:\qiantigers.csv&quot;
</code></pre>
<p>脚本具体要修改的地方就两个，在文章开头也说过了，前面那个路径代表你的csv的位置，后面那个路径是储存你创建的用户信息的位置</p>
<p>大概就是这些啦，文章写的还算比较详细。</p>
<p>成果：</p>
<figure data-type="image" tabindex="3"><a href="https://s2.ax1x.com/2019/12/23/lpX1HO.png"><img src="https://s2.ax1x.com/2019/12/23/lpX1HO.png" alt="请输入图片描述" loading="lazy"></a></figure>
<p><em>注：转载于 https://www.zxd.win/16.html</em></p>
]]></content>
    </entry>
</feed>